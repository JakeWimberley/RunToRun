<!DOCTYPE html>
<!--
    Copyright 2016 Jake Wimberley.

    This file is part of RunToRun.

    RunToRun is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    RunToRun is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with RunToRun.  If not, see <http://www.gnu.org/licenses/>.
-->
{% extends 'tracker/base.html' %}
{% block content %}
{% load static %}
<script src="{% static "relations.js" %}"></script>
<script>
	document.getElementById('nameOfView').innerHTML = 'View Thread';
</script>
{% include 'tracker/thread.html' %}
{% for event in relEvents %}
{% if forloop.first %}
<p>This thread is associated with the following events:</p>
<ul>
{% endif %}
{% url 'singleEvent' event.id as eventUrl %}
	<li><a href="{{ eventUrl }}">{{ event }}</a></li>
{% if forloop.last %}
</ul>
{% endif %}
{% endfor %}

{% url 'associateEventsWithThread' as assUrl %}
<div id="threadToEventModal" class="modal">
Specify the events that will be associated with this thread.
<form action="{{ assUrl }}" method="GET">
<fieldset id="threadToEventFields"></fieldset>
<input type="submit" value="Submit changes">
</form>
<button onclick="$('#threadToEventModal').hide()">Cancel</button>
</div>

{% endblock content %}
